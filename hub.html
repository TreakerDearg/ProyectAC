<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AC HUD - Unidad Dinámica</title>

  <!-- Fuentes & Estilos -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet">

  <!-- Librerías Avanzadas -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r152/three.min.js"></script>

  <!-- Estilos exclusivos del HUD -->
  <link rel="stylesheet" href="css/hud.css">
  <link rel="stylesheet" href="css/comms.css">
  <link rel="stylesheet" href="css/missions.css">
</head>
<body class="bg-black text-green-400 font-mono min-h-screen overflow-hidden">

  <!-- ===== Startup HUD ===== -->
  <section id="hud-startup" class="fixed inset-0 bg-black flex flex-col items-center justify-center text-green-400 font-mono z-50">
    <svg width="120" height="120" viewBox="0 0 120 120" class="mb-6">
      <circle cx="60" cy="60" r="50" stroke="currentColor" stroke-width="4" fill="none"/>
      <path d="M20 60 L40 40 L60 60 L80 40 L100 60" stroke="currentColor" stroke-width="4" fill="none"/>
      <text x="60" y="90" text-anchor="middle" font-size="24" fill="currentColor">L</text>
    </svg>
    <h1 class="text-2xl sm:text-3xl font-bold tracking-widest mb-4" id="startup-title">UNIDAD AC // ONLINE</h1>
    <pre id="hud-boot-log" class="text-sm sm:text-base leading-relaxed text-center mb-4">[ CORE ] Inicializando...</pre>
    <div id="hud-progress" class="w-64 h-2 border border-green-400 relative overflow-hidden">
      <div class="absolute inset-y-0 left-0 bg-green-400 w-0 transition-all duration-500" id="hud-progress-bar"></div>
    </div>
    <audio id="hud-boot-audio" src="audio/hud_boot.mp3" preload="auto"></audio>
  </section>

  <!-- ===== Contenedor HUD ===== -->
  <div id="hud-container" class="relative w-full h-screen select-none opacity-0">

    <!-- === Barra Superior === -->
    <header class="absolute top-0 left-0 w-full flex justify-between items-center px-6 py-2 border-b border-green-400 text-xs tracking-widest bg-black/50 backdrop-blur-sm z-50">
      <div class="flex items-center gap-3">
        <i class="fa-solid fa-satellite-dish"></i>
        <span>SISTEMA: <strong>AC-HUD v2.5</strong></span>
      </div>
      <div>
        UNIDAD: <strong id="hud-unit-name">DESCONOCIDO</strong>
      </div>
      <div class="flex items-center gap-2">
        <i class="fa-regular fa-clock"></i>
        <span id="hud-clock">--:--:--</span>
      </div>
    </header>

    <!-- === Overlay visual === -->
    <div id="scanlines" class="absolute inset-0 pointer-events-none opacity-10 bg-[repeating-linear-gradient(0deg,rgba(0,255,65,0.2)_0_1px,transparent_1px_3px)] z-40"></div>

    <!-- === Radar Central === -->
    <main id="hud-main" class="absolute inset-0 flex items-center justify-center z-10">
      <canvas id="radar-canvas" width="450" height="450" class="opacity-90 drop-shadow-[0_0_8px_rgba(0,255,65,0.6)]"></canvas>
    </main>

    <!-- === Contenedor dinámico de objetivos === -->
    <div id="target-overlay-container" class="absolute inset-0 pointer-events-none z-20"></div>

    <!-- === Botonera de Paneles === -->
    <nav class="absolute bottom-24 left-1/2 -translate-x-1/2 flex gap-4 z-50">
      <button data-modal="hud-weapons" class="px-3 py-2 bg-black/60 border border-green-400 rounded hover:bg-green-400 hover:text-black transition"><i class="fa-solid fa-gun"></i></button>
      <button data-modal="hud-alerts" class="px-3 py-2 bg-black/60 border border-green-400 rounded hover:bg-green-400 hover:text-black transition"><i class="fa-solid fa-triangle-exclamation"></i></button>
      <button data-modal="hud-comm" class="px-3 py-2 bg-black/60 border border-green-400 rounded hover:bg-green-400 hover:text-black transition"><i class="fa-solid fa-headset"></i></button>
      <button data-modal="damage-monitor" class="px-3 py-2 bg-black/60 border border-green-400 rounded hover:bg-green-400 hover:text-black transition"><i class="fa-solid fa-shield-halved"></i></button>
      <button data-modal="mission-panel" class="px-3 py-2 bg-black/60 border border-green-400 rounded hover:bg-green-400 hover:text-black transition"><i class="fa-solid fa-clipboard-list"></i></button>
    </nav>

    <!-- === Weapons Modal === -->
 <aside id="hud-weapons" class="hud-modal modal-top-left hidden">
      <h2 class="font-bold text-green-300 tracking-widest mb-2"><i class="fa-solid fa-gun mr-2"></i>ARMAMENTO</h2>
      <ul id="weapon-list" class="space-y-2"></ul>
      <div class="mt-3 h-2 w-full bg-green-900 rounded-full overflow-hidden">
        <div id="weapon-energy-bar" class="h-2 bg-green-400 w-3/4 transition-all"></div>
      </div>
    </aside>

    <!-- === Alerts Modal === -->
<aside id="hud-alerts" class="hud-modal modal-top-right hidden">
      <h2 class="font-bold text-green-300 tracking-widest mb-2"><i class="fa-solid fa-triangle-exclamation mr-2"></i>ALERTAS</h2>
      <ul id="alert-list" class="space-y-1"></ul>
      <div id="alert-critical" class="mt-2 text-red-500 font-bold hidden">[CRÍTICO] Sistema comprometido</div>
    </aside>

<!-- === Comm Modal === -->
<!-- Panel de Comunicaciones (lado derecho) -->
<section id="hud-comm" class="hud-modal modal-middle-right hidden bg-black/80 p-4 rounded shadow-lg flex flex-col">
  
  <!-- Encabezado del panel -->
  <header class="flex items-center gap-3 mb-3">
    <img src="operator.png" alt="Operador AI" class="w-12 h-12 rounded-full border border-green-400">
    <h2 class="font-bold text-green-300 tracking-wider">OPERADOR: <span id="active-ai-name">AI GEMINI</span></h2>
  </header>

  <!-- Registro de mensajes -->
  <div id="comm-log" class="flex-1 overflow-y-auto font-mono text-green-200 space-y-1 mb-2"></div>

  <!-- Contenedor para el input generado dinámicamente -->
  <div id="comm-input-container" class="mt-2"></div>

</section>



    <!-- === Damage Modal === -->
    <section id="damage-monitor" class="hud-modal modal-middle-left hidden">
      <h2 class="font-bold text-green-300"><i class="fa-solid fa-shield-halved mr-2"></i>INTEGRIDAD</h2>
      <div id="mecha-wireframe" class="w-full h-32 border border-green-500 my-2 flex items-center justify-center opacity-50">
        [DIAGRAMA MECHA]
      </div>
      <ul id="damage-list" class="space-y-1"></ul>
      <div class="mt-2 h-2 w-full bg-blue-900 rounded-full overflow-hidden">
        <div id="shield-bar" class="h-2 bg-blue-400 w-5/6 transition-all"></div>
      </div>
    </section>

    <!-- === Mission Modal === -->
<section id="mission-panel" class="hud-modal modal-bottom-right hidden bg-black/80 border border-green-400 rounded-lg p-3 shadow-lg">
  <h2 class="font-bold text-green-300 tracking-widest text-lg mb-2 flex items-center">
    <i class="fa-solid fa-clipboard-list mr-2"></i>OBJETIVOS
  </h2>

  <ul id="mission-list" class="space-y-3">
    <!-- Las misiones se insertarán aquí dinámicamente vía JS -->
  </ul>

  <!-- Barra de progreso general -->
  <div class="mt-3 h-2 w-full bg-gray-800 rounded-full overflow-hidden">
    <div id="mission-progress-bar" class="h-2 bg-green-400 w-1/4 transition-all"></div>
  </div>
</section>


    <!-- === Footer Log === -->
    <footer class="absolute bottom-0 left-0 w-full bg-black/70 border-t border-green-400 text-xs p-2 font-mono tracking-wide z-50">
      <pre id="hud-log">[LOG DEL SISTEMA] Standby...</pre>
    </footer>

    <!-- === Toasts dinámicos & Alertas Emergentes === -->
    <div id="hud-toasts" class="absolute top-20 right-1/2 transform translate-x-1/2 z-[999] pointer-events-none"></div>
    <div id="dynamic-alert" class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-red-600 text-white px-4 py-2 rounded shadow-xl text-sm hidden z-[999]">
      [!] ALERTA: Entrada a zona de combate
    </div>

  </div>

  <!-- Scripts del HUD -->
<script src="js/hud.js"></script>
<script src="js/panel.js"></script>
<script src="js/weapons.js"></script>
<script src="js/alerts.js"></script>
<script src="js/comm.js"></script>
<script src="js/damage.js"></script>
<script src="js/mission.js"></script>
</body>
</html>
